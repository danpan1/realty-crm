div().newList.mv-8.newList__blue
    div(layout='column' ng-if='realtyCard.show == true')
    div(layout='row')
        // 1-ая колонка - ID и Новая
        div(layout='column').newList_ID.md-body-1
            div().newList__blue-label.text-bold.pl-16 Эксклюзив!
            div().newList__green-label.text-bold.pl-16 Платит 30% комиссии
            div().ph-16.pv-8
                div id {{::realtyCard.realty._id | price}}
                div(layout='column' layout-align='space-between center' ng-if = 'realtyCard.relationType === "new"')
                    span().newList__new-connections.mv-0 Новая связь
                    md-checkbox(ng-click = 'realtyCard.changeRelationType("offers", realtyCard.realty._id, realtyCard.clientId, realtyCard.relationType)'
                    ng-model='realtyCard.readden'
                    flex flex-offset='5'
                    aria-label="Checkbox 1").md-primary.md-subhead.mb-0
                div(layout='column' layout-align='space-between center' ng-if = 'realtyCard.relationType === "offers"')
                    span().mv-8 Прочитано
                    md-checkbox(ng-click = 'realtyCard.changeRelationType("new", realtyCard.realty._id, realtyCard.clientId, realtyCard.relationType)'
                    ng-true-value = 'undefined'
                    ng-model = 'realtyCard.asdf'
                    flex flex-offset='5'
                    aria-label="Checkbox 2").md-primary.md-subhead.mb-0
        md-divider


        //2-ая колонка Метро и Метро пешком
        div().newList_Address.ph-16.pv-8
            div(layout='column', layout-align='space-between')
                p.mv-0
                    //Метро
                    div(ng-repeat='subway in ::realtyCard.realty.address.subwaysEmbedded').metro-name.md-body-1.mb-8
                        span(class='metro-color-{{subway.line}}').metro-color
                        span {{subway.name}}
                    //Пешком до метро
                    div.md-body-1.ml-8.mb-8 {{::realtyCard.realty.address.metroTime}} {{::realtyCard.dictionary.transport[realtyCard.realty.address.metroTransport].name}}
        md-divider

        //3-ая колонка Цена и ремонт
        div(layout='column').newList_Price.ph-16.pv-8
            div.md-body-1.mb-8.price #[b {{::realtyCard.realty.price | price}}]
            //div.md-body-1.mb-8.type-repair {{::realtyCard.dictionary.renovation[realtyCard.realty.details.renovation].name || 'Не известно ремонт'}}
        md-divider

        //4-ая колонка Фото
        div(layout='column' layout-align='center center').newList_Photo
            div(ng-click="realtyCard.showSlider( )" ng-class='{"cursor-default" : realtyCard.noPhoto }').apartment-pic
                img(ng-src='{{realtyCard.realty.image || "realty_no_image.png"}}' ng-init='realtyCard.checkImage(realtyCard.realty.image)')
                div(ng-if='!realtyCard.noPhoto').icon-zoom
        md-divider

        //5-ая Инфо об объекте
        div().newList_Info.ph-16.pv-8
            div(layout='column' layout-align='space-between')
                div().md-body-1.mb-8 {{::realtyCard.realty.roomcount}}-к квартира
                div().md-body-1.mb-8 Длительный
                //div().md-body-1.mb-8 {{::realtyCard.dictionary.materials[realtyCard.realty.details.materials].name || 'Не известно материалы'}}
                div().md-body-1.mb-8 {{::realtyCard.realty.floor}}/{{::realtyCard.realty.floormax}} {{::realtyCard.realty.square}}м2
        md-divider

        //6-ая Телефонн Риэлтора и Объявление
        div(layout='column' layout-align='space-between start' ng-if="realtyCard.realtylisttype === 'connections'").newList_contacts.ph-16.pv-8
            div()
                div(ng-if='realtyCard.realty.status !== "new" && realtyCard.realty.status !== "taken"')
                    div().md-subhead.mb-8.nowrap #[b {{::realtyCard.realty.realtor.phone | phone}}]
                    div().md-subhead.mb-8 #[b Риелтор {{::realtyCard.realty.realtor.name}}]
                div(ng-if='realtyCard.realty.status === "new" || realtyCard.realty.status === "taken"')
                    md-button(ng-if='!realtyCard.isUserPaid' ng-click='realtyCard.onShowPhone(realtyCard.realty._id, $event)').md-primary.mh-0.mt-0 Показать телефон
                    div(ng-if='realtyCard.shownPhone || realtyCard.realty.contacts[0].phones[0].phone && realtyCard.isUserPaid').md-subhead.mb-8.nowrap {{realtyCard.shownPhone || realtyCard.realty.contacts[0].phones[0].phone | phone}}
                    div().md-subhead.mb-8 #[b Собственник {{::realtyCard.realty.contacts[0].name}}]
                div
                    md-button(ng-click="realtyCard.ngShowDescr = !realtyCard.ngShowDescr" md-no-ink).md-body-1.mh-0.p-0.btn-blue.text-uppercase Объявление


        //6.1 УДОБСТВа
        div(ng-if="realtyCard.realtylisttype !== 'connections'").newList_contacts.ph-16.pv-8
            conditions(conditions='realtyCard.realty.details.conditions')
        md-divider

        //7-ая Скрыть Сохранить
        div(layout='column' layout-align="space-between left").newList_Actions
            div().newList__income-blue.ph-16.pv-8 20 000 - 40 000
            div(layout="column" layout-align="space-between center").ph-16.pv-8
                
                md-button(ng-click='realtyCard.changeRelationType("saved", realtyCard.realty._id, realtyCard.clientId, realtyCard.relationType)'
                ng-if='realtyCard.relationType === "new" || realtyCard.relationType === "offers"' md-no-ink).md-simple-button.realty-card__btn-save.mv-8.mh-0.p-0.text-left Сохранить
                
                md-button(ng-if="realtyCard.realtylisttype === 'connections'"
                ui-sref="crm.clients.details.email.send({realtyId:realtyCard.realty._id,clientId:realtyCard.clientId})").client-card__link.text-left.m-0.p-0 Написать клиенту
                
                md-button(ng-if="realtyCard.realtylisttype === 'connections'"
                ng-click='realtyCard.changeRelationType("hide", realtyCard.realty._id, realtyCard.clientId, realtyCard.relationType)'
                ).md-simple-button.realty-card__btn-hide.mv-8.mh-0.p-0.text-left скрыть

                md-button(ng-if="!realtyCard.realtylisttype && realtyCard.realty.status != 'taken'" 
                ng-click="realtyCard.ngShowDescr = !realtyCard.ngShowDescr" md-no-ink).md-body-1.mh-0.p-0.btn-blue.text-uppercase Подробнее
                md-button(ng-if="!realtyCard.realtylisttype && realtyCard.realty.status == 'taken' && !realtyCard.loadingDetails" 
                ng-click="realtyCard.onShowDetails()" md-no-ink).md-body-1.mh-0.p-0.btn-blue.text-uppercase Подробнее
                div(layout='row' layout-fill)
                    div(flex='100').w-100
                        md-progress-circular(ng-if='realtyCard.loadingDetails' md-diameter='40' style='left:0;right:0;top:0px;margin:0 auto;')
                
                md-button(ng-if="realtyCard.realtylisttype === 'clientSuitauto' || realtyCard.realtylisttype === 'clientSuitexact'"
                ng-click='realtyCard.sendRealtyRelation(realtyCard.realty._id, realtyCard.user._id)').client-card__link.text-left.m-0.p-0 Предложить клиента
                md-button(ng-if="realtyCard.realtylisttype === 'clientSuitmy'"
                ng-click='realtyCard.sendRealtyRelation(realtyCard.realty._id)' md-no-ink).client-card__link.text-left.m-0.p-0 Выбрать объект


    // Подробное объявление
    div(ng-show="realtyCard.ngShowDescr").newList__description-blue.ph-32.pb-16
        div(ng-if="!realtyCard.realtylisttype").relative
            p(ng-bind-html='realtyCard.realty.details.descr').md-body-1.realty-card__details-text
            p 
                | #[strong Комментарий колцентра:] текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст 
                | текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст
            div(layout='row')
                md-button(ng-if='!realtyCard.realtyPhone' ng-click='realtyCard.takeRealty(realtyCard.realty._id, $event)').md-raised.md-warn.ml-0.mr-16.ph-16.mt-8 Взять объект
            p().md-title.text-normal Объект сохранен в раздел #[a(href='justa.html') «Мои объекты»]
            p().md-title.text-normal 1) +7 925 111 22 33  Александр
            p().md-title.text-normal 2) #[a(href='justa.html') Посмотреть источник объявления]
            p().md-title.text-normal 3) Хотите продолжить с ним работать?
            div(layout='row').mv-16
                md-button(aria-label='Да').md-raised.newList__description-btn-large Да
                md-button(aria-label='Нет').md-raised.newList__description-btn-large.mh-16 Нет
            div(layout='row').mv-16
                md-button(aria-label='Начать работать с объектом').md-raised.newList__description-btn-large Начать работать с объектом
                md-button(aria-label='Продолжить выбор объектов').md-raised.newList__description-btn-large.mh-16 Продолжить выбор объектов
            div(ng-if='realtyCard.isAgent == true && realtyCard.objectAdded != true')
                h3(flex).md-title Хотите продолжить с ним работать?
                div(layout="row")
                    md-button(ng-click="realtyCard.takeCheckedRealty(realtyCard.realty._id, 'realtor')").md-raised.md-deafult Да 
                    md-button(ng-click="realtyCard.takeCheckedRealty(realtyCard.realty._id, 'agency')").md-raised.md-deafult Нет
            h3(flex ng-if='realtyCard.objectAdded == true').md-title Объект сохранен в раздел #[a «Мои объекты»]
            //md-button(ng-click="realtyCard.ngShowDescr =! realtyCard.ngShowDescr") Закрыть
        div(ng-if="realtyCard.realtylisttype == 'connections'")
            div(layout="row")
                p(flex="35").md-body-1 {{::realtyCard.realty.roomcount}} комнаты, длительная, Кирпичный, {{::realtyCard.realty.floor}}/{{::realtyCard.realty.floormax}}, 50м #[sup 2]
                div(flex="65").md-body-1 
                    p Удобства
                    conditions(conditions='realtyCard.realty.details.conditions')
            div {{::realtyCard.realty.details.descr}}
            div(layout="row")
                div(flex="90")
                div(flex="10") 
                    md-button(ng-click="realtyCard.ngShowDescr = !realtyCard.ngShowDescr") Закрыть
        div(ng-if="realtyCard.realtylisttype == 'demonstration'")
            div(layout="row")
                p(flex="35").md-body-1 {{::realtyCard.realty.roomcount}} комнаты, длительная, Кирпичный, {{::realtyCard.realty.floor}}/{{::realtyCard.realty.floormax}}, 50м #[sup 2]
                p(flex="65").md-body-1 Удобства
            div  {{::realtyCard.realty.details.descr}}
            div(layout="row")
                div(flex="90") Риелтор {{::realtyCard.realty.contacts[0].name}} {{::realtyCard.realty.contacts[0].phones[0].phone}}
                div(flex="10") 
                    md-button(ng-click="realtyCard.ngShowDescr = !realtyCard.ngShowDescr") Закрыть
